{"version":3,"sources":["../es6/utils.js"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["$(function() {\r\n\r\n\t$.fn._show = function() {\r\n\t\t$(this).removeClass(\"hidden hiddenAlt\");\r\n\t\treturn $(this);\r\n\t};\r\n\r\n\t$.fn._hide = function(alt) {\r\n\t\t$(this).addClass(\"hidden\" + (alt ? \"Alt\" : \"\"));\r\n\t\treturn $(this);\r\n\t};\r\n\r\n\t$.fn._setHidden = function(isHidden, alt) {\r\n\t\tif (isHidden) $(this)._hide(alt);\r\n\t\telse $(this)._show();\r\n\t\treturn $(this);\r\n\t};\r\n\r\n\t$(\"body\").keydown(function(e) {\r\n\t\tif (e.which === 192) // ~ or `\r\n\t\t\tUtils.toggleDebug();\r\n\t});\r\n\r\n});\r\n\r\nvar Utils = {};\r\n\r\nUtils.toggleDebug = function() { $(\"body\").toggleClass(\"debug\"); };\r\n\r\nUtils.parseForm = function(formID) {\r\n\tvar $form = $(\"#\" + formID);\r\n\tvar data = {};\r\n\t$form.find(\"[name]\").each(function() {\r\n\t\tvar val;\r\n\t\tswitch (this.type) {\r\n\t\t\tcase \"checkbox\":\r\n\t\t\t\tval = this.checked;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"select-one\":\r\n\t\t\t\tval = this.value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"number\":\r\n\t\t\t\tval = +this.value;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tval = this.value;\r\n\t\t}\r\n\r\n\t\tif (val.length === 1 && val.charCodeAt(0) === 8734 && this.max) val = this.max;\r\n\t\tif ($.isNumeric(val)) val = +val;\r\n\t\tdata[this.name] = val;\r\n\t});\r\n\treturn data;\r\n};\r\n\r\nUtils.rand = function(min, max) {\r\n\treturn min + Math.floor(Math.random() * (max-min+1));\r\n};\r\n\r\nUtils.forEachIn = function(func, obj) {\r\n\tfor (var i in obj) {\r\n\t\tif (obj.hasOwnProperty(i)) {\r\n\t\t\tfunc(i, obj[i]);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nUtils.scaleToFit = function(parent, childSel, ratio) {\r\n\r\n\tvar $parent;\r\n\tif (typeof parent === \"string\" || parent instanceof HTMLElement || parent instanceof HTMLCollection)\r\n\t\t$parent = $(parent);\r\n\telse if (parent instanceof $) $parent = parent;\r\n\telse throw \"parent is not a selector, element, or jQuery object\";\r\n\r\n\tif (typeof childSel !== \"string\") throw \"childSelector must be a string\";\r\n\r\n\tratio = ratio || 1;\r\n\r\n\t$parent.each(function() {\r\n\t\tvar $p = $(this);\r\n\t\tvar $c = $p.find(childSel);\r\n\r\n\t\tvar max, parentMax;\r\n\t\tif ($c.width() < $c.height()) {\r\n\t\t\tmax = $c.height();\r\n\t\t\tparentMax = $p.height();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmax = $c.width();\r\n\t\t\tparentMax = $p.width();\r\n\t\t}\r\n\r\n\t\tvar scaleFactor = parentMax / max * ratio;\r\n\t\tvar scale = \"scale(\" + scaleFactor + \")\";\r\n\r\n\t\t$c.css(\"transform\", scale);\r\n\r\n\t\tif ($c.css(\"display\") === \"inline\") $c.css(\"display\", \"inline-block\");\r\n\r\n\t});\r\n};\r\n\r\nUtils.generateStylesheet = function(templateID, globalStyles, customResultID) {\r\n    customResultID = (customResultID !== undefined) ? \"_\"+customResultID : \"\";\r\n\t$(\"head style#\" + templateID + customResultID + \"_replaced\").remove();\r\n\tvar $template = $(\"head template#\" + templateID);\r\n\tvar s = $(\"<style>\").html($template.html()).attr(\"id\", templateID  + customResultID + \"_replaced\").html(function(i, old) {\r\n\r\n\t\tvar html = old.replace(/(;|\\{)\\n/gm, \"$1\").replace(/\\t+/g, \" \").replace(/\\n\\s/g, \"\\n\");\r\n\r\n\t\tUtils.forEachIn(function(prop, style) {\r\n\t\t\thtml = html.replace(\r\n\t\t\t\tnew RegExp(\"\\\\{\" + prop + \"\\\\}\", \"g\"),\r\n\t\t\t\tstyle\r\n\t\t\t);\r\n\t\t}, globalStyles);\r\n\t\treturn html.trim();\r\n\t});\r\n\t$template.after(s);\r\n};\r\n\r\nUtils.assert = function(condition, errorMessage) {\r\n\tif (!condition) {\r\n\t\tif (Error) throw new Error(errorMessage || \"Assert Failed\");\r\n\t\telse throw errorMessage || \"Assert Failed\";\r\n\t}\r\n};\r\n\r\nUtils.buildFraction = function(n=(arguments[2]*arguments[1]), d=(n/arguments[2]), result=(n/d)) {\r\n\treturn {\r\n\t\tn, d, result,\r\n\t\ttoString: () => `${n} / ${d}`\r\n\t};\r\n};\r\n\r\nUtils.compare = function(condition, scope) {\r\n\r\n\t// TODO parse parenthesis in this (don't split if parenthesis maybe?)\r\n\r\n\t//preprocess by checking for parenthesis and sending the contents back to this function\r\n\t//then putting \"true\" or \"false\" in place of the contents and parenthesis\r\n\r\n\tvar parenGroups = [];\r\n\tcondition = condition.replace(/\\(([^\\(\\)]+)\\)/g,(nul,g) => { parenGroups.push(g); return \"\"+Utils.compare(g, scope); });\r\n\r\n\tvar trySimple = Utils.simpleCompare(condition);\r\n\tif (trySimple !== undefined) return trySimple;\r\n\r\n\tvar parts = condition\r\n\t\t.split(/or|\\|\\|/) // split into array of \"or\" parts\r\n\t\t.map(part => part.split(/and|&&/)); // split each \"or\" part into \"and\" parts\r\n\r\n\tvar boolean = false;\r\n\r\n\tfor(let j=0, orPart; (orPart = parts[j]) !== undefined; j++) { // for each \"or\" part: only one of these must be true\r\n\r\n\t\tvar innerBoolean = false;\r\n\r\n\t\tfor (let i=0, part; (part = orPart[i]) !== undefined; i++) {// for each \"and\" part: all of these must be true\r\n\t\t\tinnerBoolean = Utils.simpleCompare(part, scope);\r\n\t\t\tif (!innerBoolean) break;\r\n\t\t}\r\n\r\n\t\tif (innerBoolean) {\r\n\t\t\tboolean = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\treturn boolean;\r\n};\r\n\r\nUtils.compare2 = function(condition, scope) {\r\n\t// other way: check each condition independently and run and/or logic on that\r\n\t//            use math.eval with trues/falses - accounts for parenthesis already\r\n\t//\t\t\t  send each group (wrapped in parenthesis) back to Utils.compare(...)\r\n\r\n\tvar condRegex = /^\\s*([^=!<>\\(\\)\\s]+)\\s*((?:<|>|==)=?|!==?)\\s*([^=!<>\\(\\)\\s]+)\\s*?=\\)?$/;\r\n\r\n};\r\n\r\nUtils.simpleCompare = function(singleCondition, scope) {\r\n\r\n\tif (singleCondition.trim().toLowerCase() === \"true\") return true;\r\n\tif (singleCondition.trim().toLowerCase() === \"false\") return false;\r\n\r\n\tvar comparers = /(?:<|>|==)=?|!==?/;\r\n\tvar parts = /[^=!<>\\s]+/;\r\n\r\n\tvar condRegex = new RegExp(\"^\\\\s*(\" + parts.source + \")\\\\s*(\" + comparers.source + \")\\\\s*(\" + parts.source + \")\\\\s*$\").exec(singleCondition)\r\n\tif (condRegex === null) return undefined;\r\n\telse condRegex = condRegex.slice(1);\r\n\r\n\tvar literalRegex = /^'(.+)'|\"(.+)\"|([0-9]+)|(true|false)$/;\r\n\r\n\tvar left = (literalRegex.exec(condRegex[0]) || []).sort((a,b) => +(b === undefined))[1] || _.get(scope, condRegex[0]);\r\n\tif (/^\\d+$/.test(left)) left = +left;\r\n\r\n\tvar logicOp = condRegex[1];\r\n\r\n\tvar right = (literalRegex.exec(condRegex[2]) || []).sort((a,b) => +(b === undefined))[1] || _.get(scope, condRegex[2]);\r\n\tif (/^\\d+$/.test(right)) right = +right;\r\n\r\n\tswitch(logicOp) {\r\n\t\tcase \">\":   return left > right;\r\n\t\tcase \"<\":   return left < right;\r\n\t\tcase \">=\":  return left >= right;\r\n\t\tcase \"<=\":  return left <= right;\r\n\t\tcase \"==\":  return left == right;\r\n\t\tcase \"!=\":  return left != right;\r\n\t\tcase \"===\": return left === right;\r\n\t\tcase \"!==\": return left !== right;\r\n\t}\r\n};"]}