{"version":3,"sources":["../es6/difficulty.js"],"names":[],"mappings":"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","file":"difficulty.js","sourcesContent":["var DIFFICULTY_DATA = [null,\r\n\r\n//----------------------DIFFICULTY 1-----------------------------\r\n\t{\r\n\t\tmain: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1,50]\r\n\t\t\t}\r\n\t\t],\r\n\t\tchoices: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1, 50],\r\n\t\t\t\toperation: \"add\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t\r\n//----------------------DIFFICULTY 2-----------------------------\r\n\t\t{\r\n\t\tmain: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1, 50]\r\n\t\t\t}\r\n\t\t],\r\n\t\tchoices: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 3,\r\n\t\t\t\tlimits: [1, 99],\r\n\t\t\t\toperation: \"add\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1, 50],\r\n\t\t\t\toperation: \"sub\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\t\r\n//----------------------DIFFICULTY 3-----------------------------\r\n\t{\r\n\t\tmain: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1,500]\r\n\t\t\t}\r\n\t\t],\r\n\t\tchoices: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1, 500],\r\n\t\t\t\toperation: \"add\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1,500],\r\n\t\t\t\toperation: \"sub\"\r\n\t\t\t}\r\n\t\t]\r\n\t},\r\n\r\n//----------------------DIFFICULTY 4-----------------------------\r\n\t{\r\n\t\tmain: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 3,\r\n\t\t\t\tlimits: [1, 25]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tweight: 1,\r\n\t\t\t\tlimits: [1, 99]\r\n\t\t\t}\r\n\t\t],\r\n\t\tchoices: [\r\n\t\t\t{\r\n\t\t\t\ttype: \"integer\",\r\n\t\t\t\tiff: \"mainNumber <= 12\", // because multiplication tables\r\n\t\t\t\tweight: 1,\r\n\t\t\t\toperation: \"multi\"\r\n\t\t\t}\r\n\t\t]\r\n\t}\r\n];\r\n\r\nfunction pickWeightedRandom(choices) {\r\n\tvar ret = undefined;\r\n\tchoices = $.extend(true, [], choices);\r\n\tif (choices.length === 1) ret = choices[0];\r\n\telse {\r\n\t\tvar currentCumSum = 0;\r\n\t\tchoices.forEach(function(c){\r\n\t\t\tcurrentCumSum += c.weight;\r\n\t\t\tc.cumSum = currentCumSum;\r\n\t\t});\r\n\t\tvar r = Utils.rand(0,currentCumSum, true);\r\n\t\tchoices.forEach(function(c, i){\r\n\t\t\tif (r < c.cumSum && !ret) ret = choices[i];\r\n\t\t});\r\n\t\tdelete ret.cumSum;\r\n\t}\r\n\treturn {op: ret.operation || \"\", value: Utils.rand.apply(null, ret.limits)};\r\n}\r\n\r\nfunction generateTiles(diff) {\r\n\t$(\".tile\").remove();\r\n\tvar main = pickWeightedRandom(DIFFICULTY_DATA[diff].main);\r\n\tvar others = [];\r\n\tfor( var i=0; i<=3; i++){\r\n\t\tothers.push(pickWeightedRandom(DIFFICULTY_DATA[diff].choices));\r\n\t}\r\n\r\n\twindow.mainTile = new Tile(main.op + main.value, \".bigTileArea\");\r\n\twindow.otherTiles = others.map((t) => (new Tile(t.op + \" \" + t.value, \".tileRow1\")))\r\n\r\n}"]}