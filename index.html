<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MathSlash!</title>

		<link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.blue_grey-red.min.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
		<link rel="stylesheet" href="styles/layout.css">

		<template id="spriteSheet_template">
			.animated {
			background-image: url("images/{spriteSheet}");
			}
		</template>
		<template id="animated_element_template">
			{selector} {
			position: absolute;
			width: {width}px;
			height: {height}px;
			top: {top};
			left: {left};
			bottom: {bottom};
			right: {right};
			}
		</template>
		<template id="element_animation_template">
			{selector}.{animationName}.{playingClass} { animation: {characterName}-{animationName} steps({frames}) {durationString} infinite; }
			@keyframes {characterName}-{animationName} {
			from { background-position: {start}; }
			to { background-position: {end}; }
			}
		</template>

		<!--<script src="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.min.js"></script>-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
		<script src="scripts/lib/jquery.svg.min.js"></script>
		<script src="scripts/lib/jquery.svganim.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/2.2.0/math.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.min.js"></script>
		<script> MathJax.Hub.Config({showMathMenu:false}); </script>

		<script src="scripts/es6-compiled/utils.js"></script>
		<script src="scripts/es6-compiled/randomizer.js"></script>
		<script src="scripts/es6-compiled/tile.js"></script>
		<script src="scripts/es6-compiled/difficulty.js"></script>
		<script src="scripts/es6-compiled/TileRegistry.js"></script>
		<script src="scripts/es6-compiled/game.js"></script>
		<script src="scripts/es6-compiled/tests.js"></script>
		<script src="scripts/animationManager.js"></script>
	</head>

	<body>
		<div class="side debugOnlyHidden" id="left">
			<button onclick='try { new NumberTile(prompt("Enter value (eg 104, 10/4, 10^4):","10"), ".tileRow"+prompt("Enter row (1-3):","1")) } catch (e) { alert(e); }'>Generate Custom Tile...</button>
			<button onclick='var d = prompt("Enter difficulty:","2"); game.registry.generateTiles(+d);'>Generate for Difficulty</button>
			<button class="hidden" onclick='$("#graphicArea").toggleClass("scrolling")'>Toggle Scrolling Background</button>
			<button onclick='var time = prompt("Enter time (s):","30"); game.display.startCountdown(+time)'>Start countdown...</button>
			<button onclick='var d = prompt("Enter difficulty:","2"); game.startLevel(+d)'>Start round with diff...</button>
			<button onclick='game.onCorrect()'>Force "Correct"</button>
			<button onclick='game.onTimeOut()'>Force "Out of Time"</button>
			<button onclick="game.display.init(); $('.tile').remove();">Reset Display</button>
			<div id="_playerHealth">Player Health: <span></span></div>
			<div id="_enemyHealth">Boss Health: <span></span></div>
		</div>
		<div id="game">
			<div id="graphicArea">
				<!--<img src="images/castleBackgroundTiled.jpg" class="background">-->
				<img src="images/backgroundTiled.jpg" class="background">
				<div class="healthbar" id="playerHealth"></div>
				<div class="healthbar" id="enemyHealth"></div>
				<div class="jane pixelArt"></div>
				<div class="knight pixelArt"></div>
			</div>
			<div id="barArea"></div>
			<div id="tileArea">
				<div id="leftArea">
					<div class="bigTileArea"></div>
				</div>
				<div id="rightArea">
					<div class="tileRow1 row">
						<div class="arrow up"></div>
					</div>
					<div class="tileRow2 row">
						<div class="arrow right"></div>
					</div>
					<div class="tileRow3 row">
						<div class="arrow down"></div>
					</div>
				</div>
			</div>
			<div class="hidden" id="bottomOverlay">
				<div class="correct">CORRECT!</div>
				<div class="failed">OUT OF TIME!</div>
				<div class="win">YOU WIN!</div>
				<div class="lose">YOU LOST!</div>
			</div>
		</div>
		<div class="side" id="right">
			<button onclick='game.startLevel(2)'>Play Example</button>
			<button onclick='a.characters.jane.toggleLoopAnimation("idle");'>Animate Character</button>
			<button class="hidden" onclick="a.characters.jane.loopAnimation('idle');">Start Test Anim</button>
			<button class="hidden" onclick="a.characters.jane.stopAnimation('idle');">Stop Test Anim</button>

			<div>Instructions: Use the arrow keys to select the row with the highest sum</div>
		</div>
	</body>
</html>
