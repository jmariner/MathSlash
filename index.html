<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MathSlash!</title>

		<!--<link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.blue_grey-red.min.css">-->
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Press+Start+2P">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300">
		<link rel="stylesheet" href="styles/layout.css">

		<template id="spriteSheet_template">
			.animated {
			background-image: url("images/{spriteSheet}");
			}
		</template>
		<template id="animated_element_template">
			{selector} {
			position: absolute;
			width: {width}px;
			height: {height}px;
			top: {top};
			left: {left};
			bottom: {bottom};
			right: {right};
			background-position: {backgroundPosition};
			}
		</template>
		<template id="element_animation_template">
			{selector}.{animationName}.{playingClass} { animation: {characterName}-{animationName} steps({frames}) {durationString} infinite; }
			@keyframes {characterName}-{animationName} {
			from { background-position: {start}; }
			to { background-position: {end}; }
			}
		</template>

		<!--<script src="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.min.js"></script>-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
		<script src="scripts/lib/jquery.svg.min.js"></script>
		<script src="scripts/lib/jquery.svganim.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/2.2.0/math.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.min.js"></script>
		<script> MathJax.Hub.Config({showMathMenu:false}); </script>

		<script src="scripts/es6-compiled/utils.js"></script>
		<script src="scripts/es6-compiled/randomizer.js"></script>
		<script src="scripts/es6-compiled/tile.js"></script>
		<script src="scripts/es6-compiled/difficulty.js"></script>
		<script src="scripts/es6-compiled/TileRegistry.js"></script>
		<script src="scripts/es6-compiled/game.js"></script>
		<script src="scripts/es6-compiled/display.js"></script>
		<script src="scripts/es6-compiled/pregame.js"></script>
		<script src="scripts/es6-compiled/init.js"></script>
		<script src="scripts/animationManager.js"></script>
	</head>

	<body data-current-page="1">
		<div class="title-page" data-page="1" data-after="setupForm">
			<div class="title">MATHSLASH</div>
		</div>
		<div class="options-page" data-page="3" data-after="submitForm">
			<div class="title">Game Mode</div>
			<div class="subtitle">Choose a game mode to play</div>
			<div id="gamemode-form"></div>
			<div></div>
		</div>
		<div class="info-page" data-page="4" data-after="startGame">
			<div>
				<div class="title">Instructions</div>
				<div class="subtitle"> [generated by JS] </div>
			</div>
			<div class="instructions"> [generated by JS] </div>
			<div class="title">Controls</div>
			<div class="controls">
				Press [Up], [Down], or [Right] to choose an answer<br>
				Press [Esc] to restart (reloads page)
			</div>
		</div>
		<div class="story-page" data-page="2">
			<div class="title">Story</div>
			<p>Freaky rainbow assorted ghosts took your dad!! You trained and became a Knight after just two months to get him back fast. Your weeks of searching and interrogating the criminal underworld have led you to a dark, wartorn castle from ages past. Time to lay siege to it! Armed with a mystical blade that’s powered by the strange, confusing language of the universe (which normal people call “math,”) you’ve trained to be quick on your feet and faster on your calculations. It’s the only way to show those ghosts who’s boss. Which is you. You’re the boss. So make sure they get the memo! </p>
		</div>
		<div class="game-page last-page" data-page="5">
			<div class="side debugOnlyHidden" id="left">
				<button class="hidden" onclick='try { (new NumberTile(prompt("Enter value (eg 104, 10/4, 10^4):","10"))).addToPage(".tileRow"+prompt("Enter row (1-3):","1")); } catch (e) { alert(e); }'>Generate Custom Tile...</button>
				<button onclick='var d = prompt("Enter difficulty:","2"); GAME.registry.generateTiles(+d);'>Generate for Difficulty</button>
				<button onclick='var time = prompt("Enter time (s):","30"); GAME.display.startCountdown(+time)'>Start countdown...</button>
				<button class="hidden" onclick='var time = prompt("Enter time (s):","5"); GAME.display.doBigCountdown(+time)'>Start big countdown...</button>
				<button class="hidden" onclick='var d = prompt("Enter difficulty:","2"); GAME.startLevel(+d)'>Start round with diff...</button>
				<button onclick='GAME.onCorrect()'>Force "Correct"</button>
				<button onclick='GAME.onWrong()'>Force "Wrong"</button>
				<button onclick='GAME.onTimeOut()'>Force "Out of Time"</button>
				<button onclick='GAME.onLevelOver(true)'>Force Victory</button>
				<button onclick='GAME.onLevelOver(false)'>Force Loss</button>
				<button onclick='GAME.enemy.damageMod = 0'>Nerf Enemy</button>
				<button onclick='GAME.player.damageMod = 5'>Buff Playery</button>
				<div id="_playerHealth">Player Health: <span></span></div>
				<div id="_enemyHealth">Boss Health: <span></span></div>
			</div>
			<div id="game">
				<div id="graphicArea">
					<img src="images/background.png" class="background">
					<div class="healthbar" id="playerHealth"></div>
					<div class="healthbar" id="enemyHealth"></div>
					<div class="jane pixelArt"></div>
					<div class="rip pixelArt"></div>
				</div>
				<div id="bottomArea">
					<div id="timerArea">
						<div class="" id="timerDisplay"></div>
					</div>
					<div id="tileArea">
						<div id="leftArea">
							<div class="bigTileArea"></div>
						</div>
						<div id="rightArea">
							<div class="tileRow1 row">
								<div class="arrow up"></div>
							</div>
							<div class="tileRow2 row">
								<div class="arrow right"></div>
							</div>
							<div class="tileRow3 row">
								<div class="arrow down"></div>
							</div>
						</div>
					</div>
					<div id="bottomOverlay">
						<div class="correct">CORRECT!</div>
						<div class="failed">OUT OF TIME!</div>
						<div class="win">YOU WIN!</div>
						<div class="lose">YOU LOST!</div>
						<div class="wrong">WRONG!</div>
					</div>
				</div>
				<div id="mainOverlay">
					<div class="countdown"></div>
				</div>
			</div>
			<div class="side" id="right">
				<div class="" id="difficultyDisplay"></div>
				<button class="" onclick='Pregame.startGame(true)'>Play Example</button>

			</div>
		</div>
		<div class="gameover-page" data-page>
			<div class="title">Game Over</div>
			<p class="lost">Hey, nobody’s perfect. You can do it! So you’re dead now, so whaaat? Those ghosts are dead and they’re still hanging around. That’s gotta be breaking some rules or something. Just get your dead self back up and live again! You can even start from the beginning like dying never even happened. You can totally succeed. We believe in you!</p>
			<p class="won">Oh, wow! Nice job, Knight! You beat the ever-unliving ectoplasm out of those jerk ghosts. And saved your dad. Hey there he is! Geez, he’s so proud, he’s hugging you and crying. Those are real dad tears! You’re crying too, and that’s okay also. You take your dad home and rest. You finally get a good night’s sleep knowing your dad’s safe and sound.</p>
			<p class="won">It’s been a real ride, but it’s not over yet. There are parents being abducted all over your nation. By other ghosts, too! Break into more castles and save other people’s moms and dads!</p>
		</div>
	</body>
</html>
