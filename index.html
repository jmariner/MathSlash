<!doctype html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>MathSlash!</title>

		<link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.blue_grey-red.min.css">
		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:400,700">
		<link rel="stylesheet" href="styles/layout.css">

		<template id="spriteSheet_template">
			.animated {
			background-image: url("images/{spriteSheet}");
			}
		</template>
		<template id="animated_element_template">
			{selector} {
			position: absolute;
			width: {width}px;
			height: {height}px;
			top: {top};
			left: {left};
			bottom: {bottom};
			right: {right};
			}
		</template>
		<template id="element_animation_template">
			{selector}.{animationName}.{playingClass} { animation: {characterName}-{animationName} steps({frames}) {durationString} infinite; }
			@keyframes {characterName}-{animationName} {
			from { background-position: {start}; }
			to { background-position: {end}; }
			}
		</template>

		<!--<script src="https://storage.googleapis.com/code.getmdl.io/1.0.2/material.min.js"></script>-->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
		<script src="scripts/lib/jquery.svg.min.js"></script>
		<script src="scripts/lib/jquery.svganim.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjs/2.2.0/math.min.js"></script>
		<script src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.10.1/lodash.min.js"></script>
		<script> MathJax.Hub.Config({showMathMenu:false}); </script>

		<script src="scripts/es6-compiled/utils.js"></script>
		<script src="scripts/es6-compiled/randomizer.js"></script>
		<script src="scripts/es6-compiled/tile.js"></script>
		<script src="scripts/es6-compiled/difficulty.js"></script>
		<script src="scripts/es6-compiled/TileRegistry.js"></script>
		<script src="scripts/es6-compiled/game.js"></script>
		<script src="scripts/es6-compiled/tests.js"></script>
		<script src="scripts/animationManager.js"></script>
	</head>

	<body class="debug">
		<div class="side" id="left">
			<button onclick='try { new Tile(prompt("Enter operation (eg +, sub, multiply, over):") + prompt("Enter value (eg 104, 10/4, 10^4):"), ".tileRow"+prompt("Enter row (1-3):")) } catch (e) { alert(e); }'>Generate Custom Tile...</button>
			<form>
				<button type="button" onclick='game.registry.generateTiles(+this.form.difficulty.value);'>
					Generate for Difficulty
				</button>
				<input style="width:1.5em;" type="number" name="difficulty" min="1" max="5" value="1">
			</form>
			<button onclick='$(".tile").remove();'>Clear</button>
		</div>
		<div id="game">
			<div id="graphicArea">
				<img src="images/castleBackgroundTiled.jpg" class="background">
			</div>
			<div id="barArea"></div>
			<div id="tileArea">
				<div id="leftArea">
					<div class="bigTileArea"></div>
				</div>
				<div id="rightArea">
					<div class="tileRow1 row">
						<div class="arrow up"></div>
					</div>
					<div class="tileRow2 row">
						<div class="arrow right"></div>
					</div>
					<div class="tileRow3 row">
						<div class="arrow down"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="side" id="right">
			<button onclick='$("#graphicArea").toggleClass("scrolling")'>Toggle Scrolling Background</button>
			<form>
				<div>
					<button type="button" onclick='game.display.startCountdown(+this.form.countdown.value)'>Start countdown: </button>
					<input style="width:2.5em;" type="number" name="countdown" min="5" max="300" step="5" value="20">s
				</div>
				<div>
					<button type="button" onclick='game.startRound(+this.form.difficulty.value)'>Start round with diff =</button>
					<input style="width:1.5em" type="number" name="difficulty" min="1" max="2" value="2">
				</div>
				<div>
					<button type="button" onclick='var s = this.form.addTime.value, t = +s; if (Number.isNaN(t) || t === 0) { alert("Invalid input: " + s); } else game.display.fader.addTime(t)'>Add Time: </button>
					<input style="width:2.5em" type="text" name="addTime" value="5">s
				</div>
			</form>
			<button onclick="game.display.init(); $('.tile').remove();">Reset Display</button>
		</div>
	</body>
</html>
